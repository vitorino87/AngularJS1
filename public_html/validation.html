<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <link rel="stylesheet" href="resources/css/newcss.css"/>
        <script src="resources/js/validation.js"></script>
    </head>
    <body ng-app="myApp">
        <!--
        AngularJS is constantly updating the state of both the form and the input fields.

        Input fields have the following states:

            $untouched The field has not been touched yet
            $touched The field has been touched
            $pristine The field has not been modified yet
            $dirty The field has been modified
            $invalid The field content is not valid
            $valid The field content is valid

        They are all properties of the input field, and are either true or false.

        Forms have the following states:

            $pristine No fields have been modified yet
            $dirty One or more have been modified
            $invalid The form content is not valid
            $valid The form content is valid
            $submitted The form is submitted

        They are all properties of the form, and are either true or false.
        -->

        <div class="padrao">
            <p>Try writing in the input field:</p>

            <form name="myForm">
                <input name="myInput" ng-model="myInput" required>
            </form>

            <p>The input's valid state is:</p>
            <h1>{{myForm.myInput.$valid}}</h1>
        </div>

        <div class="padrao">
            <p>Try writing an E-mail address in the input field:</p>

            <form name="myForm2">
                <input type="email" name="myInput2" ng-model="myInput2">
            </form>

            <p>The input's valid state is:</p>
            <h1>{{myForm2.myInput2.$valid}}</h1>
            <p>Note that the state of the input field is "true" before you start writing in it, even if it does not contain an e-mail address.</p>
        </div>

        <div class="padrao">
            <p>Try leaving the first input field blank:</p>

            <form name="myForm3">
                <p>Name:
                    <input name="myName" ng-model="myName" required>
                    <span ng-show="myForm3.myName.$touched && myForm3.myName.$invalid">The name is required.</span>
                </p>

                <p>Address:
                    <input name="myAddress" ng-model="myAddress" required>
                </p>

            </form>

            <p>We use the ng-show directive to only show the error message if the field has been touched AND is empty.</p>
        </div>

        <div class="padrao">
            <form name="myForm4">
                <input name="myInput4" ng-model="myInput4" required my-directive>
            </form>
            <p>The input's valid state is:</p>
            <h1>{{myForm4.myInput4.$valid}}</h1>
        </div>

        <div>
            <form ng-controller="validateCtrl" 
                  name="myForm5" novalidate>

                <p>Username:<br>
                    <input type="text" name="user" ng-model="user" required>
                    <span style="color:red" ng-show="myForm5.user.$dirty && myForm5.user.$invalid">
                        <span ng-show="myForm5.user.$error.required">Username is required.</span>
                    </span>
                </p>

                <p>Email:<br>
                    <input type="email" name="email" ng-model="email" required>
                    <span style="color:red" ng-show="myForm5.email.$dirty && myForm5.email.$invalid">
                        <span ng-show="myForm5.email.$error.required">Email is required.</span>
                        <span ng-show="myForm5.email.$error.email">Invalid email address.</span>
                    </span>
                </p>

                <p>
                    <input type="submit"
                           ng-disabled="myForm5.user.$dirty && myForm5.user.$invalid ||
                                           myForm5.email.$dirty && myForm5.email.$invalid">
                </p>

            </form>
        </div>
    </body>
</html>
